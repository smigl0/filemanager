<link rel="stylesheet" href="/static/edit.css">
<script src="/script/edit.js" defer></script>
<input value="{{ext}}" id="ext" hidden>
<div class="d-flex gap-2 pb-3" style="height: 100%;">
    <div class="d-flex flex-column gap-2" style="flex-shrink: 0; width:10em">
        <div class="d-flex gap-1 fs-2 justify-content-between" name="ftype" value="emptyFile" id="btn-add-file">
            <div id="fsMinus" class="btn btn-outline-danger fs-4"><i class="bi bi-dash-circle-fill"></i></div>
            <div id="palswapbtn" class="btn btn-warning fs-4"><i class="bi bi-palette2"></i></div>
            <div id="fsPlus" class="btn btn-outline-success fs-4"><i class="bi bi-plus-circle-fill"></i></div>
        </div>
        <div class="d-flex flex-column gap-1">
            <div class="d-flex justify-content-between gap-2 ">
                <button style="aspect-ratio:1/1;width:100%;" class="btn btn-success px-4 fs-3" name="ftype"
                    value="emptyFile" id="uplbtn">
                    <i class=" bi bi-upload"></i>
                </button>
                <button style="aspect-ratio:1/1;width:100%;" class="btn btn-success px-4 fs-3" name="ftype"
                    value="emptyFile" id="dlbtn" onclick="window.location.href='/showUpload?fpath={{path}}'">
                    <i class="bi bi-download"></i>
                </button>
            </div>
            <button class="btn btn-primary px-4" name="ftype" value="emptyFile" id="btn-rename">
                Rename
            </button>
        </div>
        {{!-- <div class="d-flex flex-column gap-1">
            <div class="d-flex justify-content-between gap-1">
                <button class="btn btn-outline-secondary" id="btn-delete" style="width: 100%;">
                    html
                </button>
                <button class="btn btn-outline-secondary" id="btn-delete" style="width: 100%;">
                    css
                </button>
            </div>
            <div class="d-flex justify-content-between gap-1">
                <button class="btn btn-outline-secondary" id="btn-delete" style="width: 100%;">
                    css
                </button>
                <button class="btn btn-outline-secondary" id="btn-delete" style="width: 100%;">
                    css
                </button>
            </div>
        </div> --}}
    </div>
    <div class="d-flex flex-column" style="width: 100%;">
        <div style="background-color: var(--bs-gray-800);margin-left:2em;padding-left:1em;color:var(--bs-white);"
            class="rounded-1" id="pathDiv">
            <b class="fs-3" id="fpath">{{path}}</b>
        </div>
        <div class="d-flex flex-row" style="height: 100%;width:100%;">
            <div style="height: 100%;">
                <div style="width:100%;height:100%;min-width:2em; font-size:1em;" id="lcBar" class="ps-1">
                    <div class="num num-first num-last">1</div>
                </div>
                <div style="height: 0.5em;"></div>
            </div>
            <form method="POST" action="/writeFileContent" name="writeForm" style="width: 100%;">
                <input type="text" name="path" value="{{path}}" hidden>
                <input type="text" name="ext" value="{{ext}}" hidden>
                <textarea class="textEditor mx-2 rounded-1" name="text" id="editor" cols="30" rows="10"
                    style="width:100%;height:100%;overflow: hidden;"></textarea>
            </form>
        </div>
    </div>
    <dialog id="dialog-rename" class="bg-dark rounded border">
        <form action="/rename" method="get" class="d-flex align-items-center gap-1">
            <input name="from" value="edit" hidden>
            <input name="path" value="{{path}}" hidden>
            <input type="text" required name="name">
            <button type="submit" class="btn btn-primary">Submit</button>
        </form>
    </dialog>
</div>